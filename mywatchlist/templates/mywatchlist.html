{% extends 'base.html' %}

  {% block meta %}
    <title>My Anime Watchlist 2022</title>
    <script>
      function movieTrackRecord() {
        var list_item = "{{ list_item }}"
        var watched = 0
        var not_watched = 0
        for (movie in list_item) {
          if (movie.item_watched == "Yes") {
            watched += 1
          } else if (movie.item_watched == "No") {
            not_watched += 1
          }
        }
        if (watched >= not_watched && watched != 0) {
          alert("Congratulations, you have watched a lot of movies!")
        } else {
          alert("Woah, you need to watch more movies!")
        }
      }
    </script>

    <style>
      .styled-table {
          border-collapse: collapse;
          margin: 25px 0;
          font-size: 0.9em;
          font-family: sans-serif;
          min-width: 400px;
          box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
      }
      .styled-table thead tr {
          background-color: #009879;
          color: #ffffff;
          text-align: left;
      }
      .styled-table th,
      .styled-table td {
          padding: 12px 15px;
      }
      .styled-table tbody tr {
          border-bottom: 1px solid #dddddd;
      }

      .styled-table tbody tr:nth-of-type(even) {
          background-color: #f3f3f3;
      }

      .styled-table tbody tr:last-of-type {
          border-bottom: 2px solid #009879;
      }
      .styled-table tbody tr.active-row {
        font-weight: bold;
        color: #009879;
      }
    </style>
  {% endblock meta %}
 {% block content %}


  <h1>Assignment 3 PBP/PBD</h1>

  <h5>Name: </h5>
  <p>{{name}}</p>

  <h5>Student ID: </h5>
  <p>{{npm}}</p>

  <button onclick="movieTrackRecord()">Click me to review your watchlist!</button>
  <table class="styled-table">
    <tr>
      <th>Watched</th>
      <th>Title</th>
      <th>Rating</th>
      <th>Release Date</th>
      <th>Review</th>
    </tr>
    {% comment %} Add the data below this line {% endcomment %}
    {% comment %} Add data below {% endcomment %}
    {% for item in list_item %}
        <tr>
            <th>{{item.item_watched}}</th>
            <th>{{item.item_title}}</th>
            <th>{{item.item_rating}}</th>
            <th>{{item.item_release_date}}</th>
            <th>{{item.item_review}}</th>
        </tr>
    {% endfor %}
  </table>

  <h3>{{report}}</h3>

 {% endblock content %}
